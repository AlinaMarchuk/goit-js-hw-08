{"mappings":"YAAA,IAAMA,EAAc,sBAEdC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,QAASF,SAASC,cAAc,SAChCE,WAAYH,SAASC,cAAc,aAoBrC,SAASG,EAAcC,GACrB,IACE,OAAIC,aAAaC,QAAQF,GAChBG,KAAKC,MAAMH,aAAaC,QAAQF,IAC3B,E,CACd,MAAOK,GACPC,QAAQC,IAAIF,EAAMG,Q,EAvBtBf,EAAKC,OAAOe,iBAAiB,UAuC7B,SAAwBC,GACtBA,EAAEC,iBACFD,EAAEE,cAAcC,QAChBP,QAAQC,IAAIR,EAAcP,IAC1BS,aAAaa,WAAWtB,E,IA1C1BC,EAAKI,QAAQY,iBAAiB,SA0B9B,SAAwBC,GACtB,IAAMK,EAAahB,EAAcP,GACjCuB,EAAWC,MAAQN,EAAEO,OAAOC,MAC5BjB,aAAakB,QAAQ3B,EAAaW,KAAKiB,UAAUL,G,IA5BnDtB,EAAKK,WAAWW,iBAAiB,SA+BjC,SAAyBC,GACvB,IAAMK,EAAahB,EAAcP,GACjCuB,EAAWP,QAAUE,EAAEO,OAAOC,MAC9BjB,aAAakB,QAAQ3B,EAAaW,KAAKiB,UAAUL,G,IA9BnD,WACE,IAAMM,EAAYtB,EAAcP,GAChCc,QAAQC,IAAIc,GACRA,EAAUL,QACZvB,EAAKI,QAAQqB,MAAQG,EAAUL,OAE7BK,EAAUb,UACZf,EAAKK,WAAWoB,MAAQG,EAAUb,Q,CATtCc,E","sources":["src/js/03-feedback.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  inputEl: document.querySelector('input'),\n  textareaEl: document.querySelector('textarea'),\n};\n\nrefs.formEl.addEventListener('submit', onFormElSubmit);\nrefs.inputEl.addEventListener('input', onInputElInput);\nrefs.textareaEl.addEventListener('input', onTextareaInput);\n\ncheckStorage();\n\nfunction checkStorage() {\n  const savedInfo = getCurrentObj(STORAGE_KEY);\n  console.log(savedInfo);\n  if (savedInfo.email) {\n    refs.inputEl.value = savedInfo.email;\n  }\n  if (savedInfo.message) {\n    refs.textareaEl.value = savedInfo.message;\n  }\n}\n\nfunction getCurrentObj(key) {\n  try {\n    if (localStorage.getItem(key)) {\n      return JSON.parse(localStorage.getItem(key));\n    } else return {};\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction onInputElInput(e) {\n  const currentObj = getCurrentObj(STORAGE_KEY);\n  currentObj.email = e.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(currentObj));\n}\n\nfunction onTextareaInput(e) {\n  const currentObj = getCurrentObj(STORAGE_KEY);\n  currentObj.message = e.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(currentObj));\n}\n\nfunction onFormElSubmit(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  console.log(getCurrentObj(STORAGE_KEY));\n  localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":["$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$refs","formEl","document","querySelector","inputEl","textareaEl","$b00c40859be242c5$var$getCurrentObj","key","localStorage","getItem","JSON","parse","error","console","log","message","addEventListener","e","preventDefault","currentTarget","reset","removeItem","currentObj","email","target","value","setItem","stringify","savedInfo","$b00c40859be242c5$var$checkStorage"],"version":3,"file":"03-feedback.e364c09b.js.map"}